# 网易云音乐案例

知识点总结：

样式重置：`css/reset.css`

- body,;
- h1, ul, ol, li, dl, dt, dd;
- h1 - h6;
- a、i
- input
- img

## 一、顶部 Header

顶部 Header 精灵图样式封装：

css/common.css

```css
.top_sprite {
  display: inline-block;
  background-image: url(../image/topbar.png);
}
```

顶部 Header 样式封装在该文件下：css/topbar.css

顶部 Header logo：

- 使用 a 标签和精灵图展示 logo 图片。
- 使用 `text-indent` 位移文字。，用于作 SEO 优化。

css/topbar.css

```css
.topbar .left .logo {
  width: 157px;
  height: 100%;
  padding-right: 20px;
  text-indent: -9999px;
}
```

顶部 Header 标签，使用 ul li 布局，ul 使用 flex 布局

ul.tags 使用 flex 布局后，里面的 li 元素，高度默认会拉伸撑满（stretch），所以设置 a.tag 的高度 100%，即 ul.tags 的高度。

然后再 a.tag 中，设置 padding 和 line-height 来将盒子内部空间撑开。

css/topbar.css

```css
.topbar .left > .tags {
  display: flex;
}
.topbar .left .tag {
  position: relative;
  display: block;
  height: 100%;
  padding: 0 19px;
  font-size: 14px;
  color: #ccc;
  line-height: 70px;
}
```

使用动态伪类 :hover，来设置 tag 在不同状态下的样式：

使用 .active 类，来设置激活的 tag 的样式：

css/topbar.css

```css
.topbar .left .tag.active,
.topbar .left .tag:hover {
  color: #fff;
  background-color: #000;
}
```

使用精灵图，伪元素 ::after，绝对定位，来设置激活 tag 下方红色小三角的样式。

css/topbar.css

```css
/* 伪元素做小三角 */
.topbar .left .tag.active::after {
  content: '';
  position: absolute;
  display: inline-block;
  width: 12px;
  height: 6px;
  bottom: -1px;
  left: 0;
  right: 0;
  margin: 0 auto;
  background: url(../image/topbar.png) -226px 0;
}
```

顶部 Header 标签【下载客户端】的【hot】图标：使用精灵图，并使用相对定位。

css/topbar.css

```css
.topbar .left .hot {
  position: relative;
  right: 13px;
  top: 20px;
  width: 28px;
  height: 19px;
  background-position: -190px 0;
}
```

顶部 Header 使用 input 元素，自定义搜索框区域。使用精灵图 + 白色的背景颜色 + flex 布局 + border-radius。

css/topbar.css

```css
.topbar .right .search {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  width: 158px;
  height: 32px;
  padding-right: 10px;
  border-radius: 32px;
  background-color: #fff;
  background-position: 0 -99px;
}
```

自定义 input 输入框的样式。使用 `-webkit-input-placeholder` 伪元素，设置 input 元素中的 placeholder 样式。

```css
.topbar .right .search input {
  font-size: 12px;
  width: 125px;
}
.topbar .right .search input::-webkit-input-placeholder {
  color: #9b9b9b;
}
```

顶部 Header 使用 a 元素，显示登录按钮。

使用动态伪类，实现登录按钮的三种状态样式

```css
.topbar .right .login:hover a {
  color: #999;
}
.topbar .right .login a {
  color: #787878;
}
.topbar .right .login a:hover {
  color: #787878;
  text-decoration: underline;
}
```

顶部 Header 使用 a 元素，显示创作者中心按钮。

此时，这个 a 元素，是一个 flex-item，所以可以给它设置宽、高等 CSS 属性。

```css
.topbar .right > .creater-center {
  text-align: center;
  line-height: 33px;
  color: #ccc;

  width: 90px;
  height: 32px;
  margin-left: 12px;
  border-radius: 20px;
  border: 1px #4f4f4f solid;
}
.topbar .right > .creater-center:hover {
  border: 1px #fff solid;
  color: #fff;
}
```

## 二、顶部 Nav

顶部 Nav 最外层盒子样式：

```css
.topnav {
  width: 100%;
  height: 35px;
  box-sizing: border-box;
  background-color: #c20c0c;
}
```

顶部 Nav 中，也使用 flex 布局。

经过计算后，内容 content 设置 1100px，并在顶部 Nav 中剧中显示。

```css
.topnav .content {
  display: flex;
  width: 1100px;
  height: 100%;
  margin: 0 auto;
}
```

顶部 Nav 的内容 content 中，使用 ul li 来显示标签 tag。

ul.tags 盒子，它里面也是用 flex 布局，水平方向使用 flex-end 对齐方式。

ul.tags 使用 flex 布局后，里面的 li 元素，高度默认会拉伸撑满（stretch），所以设置 a 的高度 100%，即 ul.tags 的高度。

然后在 a 中，使用子元素  span，并设置 displayL inline-block; ，来展示标签 label，在 span 元素中设置 padding 和 line-height 来将盒子内部空间撑开。

这么做是因为，在鼠标触碰到标签之前，在一定范围内，就需要有能够点击的效果。

```css
.topnav .tags {
  display: flex;
  width: 744px;
  height: 100%;
  justify-content: flex-end;
}
.topnav .tags li {
  font-size: 12px;
}
.topnav .tags a {
  display: block;
  height: 100%;
}
.topnav .tags span {
  display: inline-block;
  line-height: 20px;
  color: #fff;
  height: 20px;
  padding: 0 13px;
  margin: 6px 17px 0;
  border-radius: 20px;
}
.topnav .tags .active {
  background-color: #9b0909;
}
```

## 三、顶部 Banner

顶部 Banner 区域样式封装，设置了背景图片。

```css
.banner {
  width: 100%;
  height: 285px;
  background: url(../../image/banner_blur_01.jpg) center / 6000px;
}
```

顶部 Banner 的中间区域，用来展示轮播图和下载客户端的按钮，使用 div.wrap 封装。

为它设置宽、高，并居中显示。

```css
.banner .wrap {
  position: relative;
  width: 982px;
  height: 285px;
  margin: 0 auto;
}
```

顶部 Banner 轮播图图片区域设置，使用 div.images-area 封装。

```css
.banner .images-area {
  position: relative;
  width: 730px;
  height: 100%;
}
```

顶部 Banner 中，使用 ul.images 封装轮播图列表：在其中使用 flex 布局。

设置 overflow: hidden; 将超出盒子的图片隐藏起来。

```css
.banner .images {
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
```

顶部 Banner 中，使用 ui li 布局轮播图图片列表，在 li 中，使用 a 元素包裹 img 元素。

li 元素，是 flex-item，让它撑满整个 ul.images 元素，同一行的其它 li 元素，被隐藏。

```css
.banner .images li {
  flex-shrink: 0;
  width: 100%;
}
.banner .images li a {
  display: block;
}
.banner .images li img {
  width: 100%;
  height: 285px;
}
```

顶部 Banner 中，为轮播图设置下方标点：

使用 ul li 元素，来布局下方标点，使用绝对定位，将 ul 设为占据它的父元素 div.image-area 的整行宽度，并将 ul 定位到轮播图的下方，

为 ul.dots 设置水平居中。并设置 flex 布局。

```css
.banner .dots {
  position: absolute;
  display: flex;
  justify-content: center;
  left: 0;
  right: 0;
  bottom: 3px;
  margin: 0 auto;
}
```

ul.dots > li 是 flex-item，为它设置 margin，来撑开 ul.dots 的宽度。

```css
.banner .dots li {
  margin: 0 2px;
}
```

为 li > a 设置宽、高并设置为块级元素，并使用精灵图。

并使用动态伪类，来设置不同状态下的样式。

```css
.banner .dots a {
  display: block;
  width: 20px;
  height: 20px;
  background: url(../../image/banner.png) 3px -343px;
}
.banner .dots a:hover {
  background: url(../../image/banner.png) -16px -343px;
}
```

顶部 Banner 中，设置轮播图右侧下载客户端按钮，使用 div.download 封装。

为它设置绝对定位，相对于父元素 div.wrap，并为它设置精灵图，精灵图中有下载客户端按钮的图形。

```css
.banner .dowload {
  position: absolute;
  right: -1px;
  top: 0;
  bottom: 0;
  width: 254px;
  background: url(../../image/download.png);
}
```

将 a 元素，覆盖在精灵图的“下载客户端”按钮的位置，并设置 text-intend 用于 SEO 优化。

使用动态伪类，来设置鼠标悬停状态下背景精灵图的。

```css
.banner .dowload a {
  display: block;
  text-indent: -9999px;
  width: 215px;
  height: 56px;
  margin: 186px 0 0 19px;
}
.banner .dowload a:hover {
  background: url(../../image/download.png) 0 -290px;
}
```

在 div.download 中，放入 p 元素，来显示说明信息。

以前在 reset.css 中重置过 p 元素的样式。

```css
.banner .dowload p {
  text-align: center;
  color: #8d8d8d;
  margin-top: 10px;
}
```

顶部 Banner 轮播图控制器的显示，使用 a 元素进行布局。

为左、右两个控制器，设置绝对定位布局，参照它们的父元素 div.wrap。为它们设置垂直居中，并设置精灵图。

并使用动态伪类，来改变精灵图。

```css
.banner .wrap .control {
  position: absolute;
  width: 37px;
  height: 63px;
  top: 0;
  bottom: 0;
  margin: auto 0;
  background-image: url(../../image/banner.png);
}
.banner .wrap .left {
  left: -70px;
  background-position: 0 -360px;
}
.banner .wrap .left:hover {
  left: -70px;
  background-position: 0 -430px;
}
.banner .wrap .right {
  right: -70px;
  background-position: 0 -500px;
}
.banner .wrap .right:hover {
  right: -70px;
  background-position: 0 -570px;
}
```

## 四、主内容 main

为主内容封装样式 wrapper_02，在其中设置宽度，并水平居中显示。

```css
.wrapper_02 {
  width: 980px;
  margin: 0 auto;
}
```

为主内容封装央视 area，在其中设置 flex 布局，并设置精灵图。

```css
.main > .area {
  display: flex;
  justify-content: space-between;
  border: 1px #3d3d3d solid;
  border-width: 0 1px;
  background-image: url(../../image/main_bg.png);
}
```

## 五、主内容右侧 area-right

为主内容右侧区域，封装样式 .area-right，在其中设置宽度。

```css
.main .area-right {
  width: 250px;
}
```

---

在主内容右侧区域顶部，设置用户登录区域 div.user-login。为它设置宽、高和精灵图。

```css
.main .area-right .user-login {
  width: 250px;
  height: 126px;
  background: url(../../image/main_sprite.png) 0 0;
}
```

在 div.user.login 中，使用 p 元素，设置说明信息；使用 a 元素，设置用户登录按钮。

```css
.main .area-right .user-login .desc {
  width: 205px;
  margin: 0 auto;
  padding: 16px 0;
  color: #666;
  line-height: 22px;
}

.main .area-right .user-login .btn {
  display: block;
  width: 100px;
  height: 31px;
  margin: 0 auto;
  line-height: 31px;
  text-align: center;
  color: #fff;
  background: url(../../image/main_sprite.png) 0 -195px;
  text-shadow: 0 1px 0 #8a060b;
}
.main .area-right .user-login .btn:hover {
  background-position: -110px -195px;
}
```

---

在主内容右侧区域中间，设置入驻歌手区域 .settle-singer，为其设置内边距。

```css
.main .settle-singer {
  padding: 20px;
  padding-bottom: 14px;
}
```

封装一个 header_type_01 样式，用于设置头部标题中的样式。

其中使用 flex 布局，并未 .title 区域和 .more 区域，设置字体颜色，下划线等样式。

css/header/header_type_01.css

```css
.header_type_01 {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 5px;
  border-bottom: 1px #ccc solid;
}

.header_type_01 .title {
  color: #333;
}

.header_type_01 .more {
  color: #666;
}

.header_type_01 .more:hover {
  text-decoration: underline;
}
```

将 header_type_01 样式，应用于入驻歌手区域的标题 div.settle-singer，并为 div.settle-singer 设置字体的样式。

```css
.main .settle-singer .title {
  font-size: 12px;
  font-weight: 700;
}
```

```html
<div class="header_type_01">
  <h1 class="title">入驻歌手</h1>
  <a href="#" class="more">查看全部 &gt;</a>
</div>
```

---

主内容右侧区域歌手列表，使用 ul li 来布局。

用 a.item 包裹整个歌手 item。为它设置 flex 布局。

```css
.main .settle-singer .list .item {
  display: flex;
  width: 210px;
  height: 62px;
  margin-top: 15px;
  background-color: #fafafa;
}
```

在 a.item 中，布局 div.album 和 div.info 分别用来展示歌手头像和歌手信息。

div.info 的兄弟元素 div.album 中的 img 图片撑开了宽、高。所以可以个 div.info 设置 flex: 1;

```css
.main .settle-singer .list .item .info {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  padding: 3px 12px;
  border: 1px #e9e9e9 solid;
  border-left: none;
  /* flex item 设置 flex-grow 后，需要设置overflow: hidden; 子元素的省略号效果才能有效 */
  overflow: hidden;
}
```

为 div.info 中的元素，设置样式：

desc 中，设置单行省略号。

```css
.main .settle-singer .list .item .info .singer {
  font-size: 14px;
  font-weight: 700;
  color: #000;
}
.main .settle-singer .list .item .info .desc {
  font-size: 12px;
  color: #666;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
```

---

主内容右侧，“申请成为网易音乐人”按钮，使用 a 元素封装。在其中使用 i 元素，设置精灵图。

将 btn 相关的精灵图样式，封装在 css/btn/btn_type_01.css 中

```css
.btn_sprite {
  display: block;
  background: url(../../image/btn_sprite.png) no-repeat;
  height: 31px;
  line-height: 31px;
  text-align: center;
}

.btn_type_01_sup {
  background-position: right -100px;
  padding-right: 5px;
}

.btn_type_01_sub {
  background-position: 0 -59px;
  padding-left: 3px;
}
```

为 a 元素设置样式：

之所以要在 a 元素中，使用 i 元素，是因为需要为 a 元素设置 border-radius 和 overflow: hidden; 以隐藏精灵图左上角小点。

```css
/* 申请成为网易云音乐人按钮 */
.main .apply {
  width: 210px;
  font-size: 12px;
  font-weight: 700;
  color: #000;
  box-sizing: border-box;
  /* 设置 border-radius 和 overflow: hidden; 隐藏精灵图左上角小点 */
  border-radius: 4px;
  overflow: hidden;
  margin: 0 auto;
}
```

---

主内容右侧，热门主播区域，使用 div.hot-hoster 样式封装，排版布局和样式与上方的“入驻歌手”类似。

只不过它的 header，没有右侧区域。

```css
.main .hot-hoster {
  margin-top: 14px;
  padding: 20px;
}
```

使用 ui li 排版布局热门主播列表：

```css
.main .hot-hoster .list {
  margin-top: 10px;
  overflow: auto;
}
```

使用 li.item 封装热门主播 item，为它使用 flex 布局。在其中使用  a.image 元素和 div.info 元素，分别排版布局主播头像和主播信息。

```css
.main .hot-hoster .list .item {
  display: flex;
  margin-top: 10px;
}

.main .hot-hoster .list .item .image {
  width: 40px;
}

.main .hot-hoster .list .item .info {
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  margin-left: 10px;
}

.main .hot-hoster .list .item .info .author,
.intro {
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
```

## 六、主内容左侧 area-left

为主内容左侧区域，封装样式 div.area-left，在其中设置宽度和内边距。

```css
.main .area-left {
  width: 689px;
  padding: 20px 20px 40px;
}
```

